"use strict";var L=Object.create;var x=Object.defineProperty,U=Object.defineProperties,M=Object.getOwnPropertyDescriptor,S=Object.getOwnPropertyDescriptors,B=Object.getOwnPropertyNames,k=Object.getOwnPropertySymbols,H=Object.getPrototypeOf,O=Object.prototype.hasOwnProperty,P=Object.prototype.propertyIsEnumerable;var _=(e,n,t)=>n in e?x(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t,D=(e,n)=>{for(var t in n||(n={}))O.call(n,t)&&_(e,t,n[t]);if(k)for(var t of k(n))P.call(n,t)&&_(e,t,n[t]);return e},m=(e,n)=>U(e,S(n));var K=(e,n)=>{var t={};for(var a in e)O.call(e,a)&&n.indexOf(a)<0&&(t[a]=e[a]);if(e!=null&&k)for(var a of k(e))n.indexOf(a)<0&&P.call(e,a)&&(t[a]=e[a]);return t};var z=(e,n)=>{for(var t in n)x(e,t,{get:n[t],enumerable:!0})},N=(e,n,t,a)=>{if(n&&typeof n=="object"||typeof n=="function")for(let c of B(n))!O.call(e,c)&&c!==t&&x(e,c,{get:()=>n[c],enumerable:!(a=M(n,c))||a.enumerable});return e};var F=(e,n,t)=>(t=e!=null?L(H(e)):{},N(n||!e||!e.__esModule?x(t,"default",{value:e,enumerable:!0}):t,e)),j=e=>N(x({},"__esModule",{value:!0}),e);var $={};z($,{DescendantProvider:()=>W,createDescendantContext:()=>G,useDescendant:()=>q,useDescendantKeyDown:()=>X,useDescendants:()=>Q,useDescendantsInit:()=>J});module.exports=j($);var d=F(require("react")),f=require("@reach/utils");function G(e,n={}){let a=d.createContext(D({descendants:[],registerDescendant:()=>f.noop},n));return a.displayName=e,a}function q(e,n,t){let a=(0,f.useForceUpdate)(),{registerDescendant:c,descendants:i}=d.useContext(n),s=t!=null?t:i.findIndex(o=>o.element===e.element);return(0,f.useIsomorphicLayoutEffect)(()=>(e.element||a(),c(m(D({},e),{index:s}))),[e,a,s,c,...Object.values(e)]),s}function J(){return d.useState([])}function Q(e){return d.useContext(e).descendants}function W({context:e,children:n,items:t,set:a}){let c=d.useCallback(C=>{var h=C,{element:i,index:s}=h,o=K(h,["element","index"]);return i?(a(p=>{if(s!=null&&s!==-1)return V(p,D({element:i,index:s},o),s);if(p.length===0)return[m(D({},o),{element:i,index:0})];let r=Z(p,i),y;return r===-1?y=[...p,m(D({},o),{element:i,index:p.length})]:y=V(p,m(D({},o),{element:i,index:r}),r),y}),()=>{!i||a(p=>p.filter(r=>i!==r.element))}):f.noop},[]);return d.createElement(e.Provider,{value:d.useMemo(()=>({descendants:t,registerDescendant:c}),[t,c])},n)}function X(e,n){let{descendants:t}=d.useContext(e),{callback:a,currentIndex:c,filter:i,key:s="index",orientation:o="vertical",rotate:C=!0,rtl:h=!1}=n;return function(r){if(!["ArrowDown","ArrowUp","ArrowLeft","ArrowRight","PageUp","PageDown","Home","End"].includes(r.key))return;let y=c!=null?c:-1,l=i?t.filter(i):t;if(!l.length)return;let g=l.findIndex(T=>T.index===c);function b(){return y===R().index?C?E():l[g]:l[(g+1)%l.length]}function w(){return y===E().index?C?R():l[g]:l[(g-1+l.length)%l.length]}function E(){return l[0]}function R(){return l[l.length-1]}switch(r.key){case"ArrowDown":if(o==="vertical"||o==="both"){r.preventDefault();let u=b();a(s==="option"?u:u[s])}break;case"ArrowUp":if(o==="vertical"||o==="both"){r.preventDefault();let u=w();a(s==="option"?u:u[s])}break;case"ArrowLeft":if(o==="horizontal"||o==="both"){r.preventDefault();let u=(h?b:w)();a(s==="option"?u:u[s])}break;case"ArrowRight":if(o==="horizontal"||o==="both"){r.preventDefault();let u=(h?w:b)();a(s==="option"?u:u[s])}break;case"PageUp":r.preventDefault();let T=(r.ctrlKey?w:E)();a(s==="option"?T:T[s]);break;case"Home":r.preventDefault();let v=E();a(s==="option"?v:v[s]);break;case"PageDown":r.preventDefault();let I=(r.ctrlKey?b:R)();a(s==="option"?I:I[s]);break;case"End":r.preventDefault();let A=R();a(s==="option"?A:A[s]);break}}}function Y(e,n){return Boolean(n.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_PRECEDING)}function Z(e,n){if(!n||!e.length)return-1;let t=e.length;for(;t--;){let a=e[t].element;if(!!a&&Y(a,n))return t+1}return-1}function V(e,n,t){return t==null||!(t in e)?[...e,n]:[...e.slice(0,t),n,...e.slice(t)]}0&&(module.exports={DescendantProvider,createDescendantContext,useDescendant,useDescendantKeyDown,useDescendants,useDescendantsInit});
