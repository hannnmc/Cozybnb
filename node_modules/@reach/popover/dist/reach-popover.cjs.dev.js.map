{"version":3,"sources":["../src/reach-popover.tsx"],"sourcesContent":["/**\n * Welcome to @reach/popover!\n */\n\nimport * as React from \"react\";\nimport { Portal } from \"@reach/portal\";\nimport type { PRect } from \"@reach/rect\";\nimport { useRect } from \"@reach/rect\";\nimport { getOwnerDocument, useComposedRefs } from \"@reach/utils\";\nimport type * as Polymorphic from \"@reach/polymorphic\";\nimport { tabbable } from \"tabbable\";\n\n// TODO: tabbable types incorrectly exclude `document` as a param. Open a PR to\n// fix and get rid of `as any` casting.\n\n////////////////////////////////////////////////////////////////////////////////\n\n/**\n * Popover\n */\nconst Popover = React.forwardRef(function Popover(\n\t{ unstable_skipInitialPortalRender, ...props },\n\tref\n) {\n\treturn (\n\t\t<Portal unstable_skipInitialRender={unstable_skipInitialPortalRender}>\n\t\t\t<PopoverImpl ref={ref} {...props} />\n\t\t</Portal>\n\t);\n}) as Polymorphic.ForwardRefComponent<\"div\", PopoverProps>;\n\ninterface PopoverProps {\n\tchildren: React.ReactNode;\n\ttargetRef: React.RefObject<PossibleNode>;\n\tposition?: Position;\n\t/**\n\t * Render the popover markup, but hide it â€“ used by MenuButton so that it\n\t * can have an `aria-controls` attribute even when its menu isn't open, and\n\t * used inside `Popover` as a hint that we can tell `useRect` to stop\n\t * observing for better performance.\n\t */\n\thidden?: boolean;\n\t/**\n\t * Testing this API so we might accept additional nodes that apps can use to\n\t * determine the position of the popover. One example where it may be useful\n\t * is for positioning the popover of a listbox where the cursor rests on top\n\t * of the selected option. Pretty sure this will change so don't use it\n\t * anywhere in public yet!\n\t */\n\tunstable_observableRefs?: React.RefObject<PossibleNode>[];\n\tunstable_skipInitialPortalRender?: boolean;\n}\n\nPopover.displayName = \"Popover\";\n\n////////////////////////////////////////////////////////////////////////////////\n\n/**\n * PopoverImpl\n *\n * Popover is conditionally rendered so we can't start measuring until it shows\n * up, so useRect needs to live down here not up in Popover\n */\nconst PopoverImpl = React.forwardRef(function PopoverImpl(\n\t{\n\t\tas: Comp = \"div\",\n\t\ttargetRef,\n\t\tposition = positionDefault,\n\t\tunstable_observableRefs = [],\n\t\t...props\n\t},\n\tforwardedRef\n) {\n\tconst popoverRef = React.useRef<HTMLDivElement>(null);\n\tconst popoverRect = useRect(popoverRef, { observe: !props.hidden });\n\tconst targetRect = useRect(targetRef, { observe: true });\n\tconst ref = useComposedRefs(popoverRef, forwardedRef);\n\n\tuseSimulateTabNavigationForReactTree(targetRef as any, popoverRef);\n\n\treturn (\n\t\t<Comp\n\t\t\tdata-reach-popover=\"\"\n\t\t\tref={ref}\n\t\t\t{...props}\n\t\t\tstyle={{\n\t\t\t\tposition: \"absolute\",\n\t\t\t\t...getStyles(\n\t\t\t\t\tposition,\n\t\t\t\t\ttargetRect,\n\t\t\t\t\tpopoverRect,\n\t\t\t\t\t...unstable_observableRefs\n\t\t\t\t),\n\t\t\t\t...props.style,\n\t\t\t}}\n\t\t/>\n\t);\n}) as Polymorphic.ForwardRefComponent<\"div\", PopoverProps>;\n\nPopoverImpl.displayName = \"PopoverImpl\";\n\n////////////////////////////////////////////////////////////////////////////////\n\nfunction getStyles(\n\tposition: Position,\n\ttargetRect: PRect | null,\n\tpopoverRect: PRect | null,\n\t...unstable_observableRefs: React.RefObject<PossibleNode>[]\n): React.CSSProperties {\n\treturn popoverRect\n\t\t? position(\n\t\t\t\ttargetRect,\n\t\t\t\tpopoverRect,\n\t\t\t\t...unstable_observableRefs.map((ref) => ref.current)\n\t\t  )\n\t\t: { visibility: \"hidden\" };\n}\n\nfunction getTopPosition(\n\ttargetRect: PRect,\n\tpopoverRect: PRect,\n\tisDirectionUp: boolean\n) {\n\treturn {\n\t\ttop: isDirectionUp\n\t\t\t? `${targetRect.top - popoverRect.height + window.pageYOffset}px`\n\t\t\t: `${targetRect.top + targetRect.height + window.pageYOffset}px`,\n\t};\n}\n\nconst positionDefault: Position = (targetRect, popoverRect) => {\n\tif (!targetRect || !popoverRect) {\n\t\treturn {};\n\t}\n\n\tconst { directionRight, directionUp } = getCollisions(\n\t\ttargetRect,\n\t\tpopoverRect\n\t);\n\treturn {\n\t\tleft: directionRight\n\t\t\t? `${targetRect.right - popoverRect.width + window.pageXOffset}px`\n\t\t\t: `${targetRect.left + window.pageXOffset}px`,\n\t\t...getTopPosition(targetRect, popoverRect, directionUp),\n\t};\n};\n\nconst positionRight: Position = (targetRect, popoverRect) => {\n\tif (!targetRect || !popoverRect) {\n\t\treturn {};\n\t}\n\n\tconst { directionLeft, directionUp } = getCollisions(targetRect, popoverRect);\n\treturn {\n\t\tleft: directionLeft\n\t\t\t? `${targetRect.left + window.pageXOffset}px`\n\t\t\t: `${targetRect.right - popoverRect.width + window.pageXOffset}px`,\n\t\t...getTopPosition(targetRect, popoverRect, directionUp),\n\t};\n};\n\nconst positionMatchWidth: Position = (targetRect, popoverRect) => {\n\tif (!targetRect || !popoverRect) {\n\t\treturn {};\n\t}\n\n\tconst { directionUp } = getCollisions(targetRect, popoverRect);\n\treturn {\n\t\twidth: targetRect.width,\n\t\tleft: targetRect.left,\n\t\t...getTopPosition(targetRect, popoverRect, directionUp),\n\t};\n};\n\nfunction getCollisions(\n\ttargetRect: PRect,\n\tpopoverRect: PRect,\n\toffsetLeft: number = 0,\n\toffsetBottom: number = 0\n) {\n\tconst collisions = {\n\t\ttop: targetRect.top - popoverRect.height < 0,\n\t\tright: window.innerWidth < targetRect.left + popoverRect.width - offsetLeft,\n\t\tbottom:\n\t\t\twindow.innerHeight <\n\t\t\ttargetRect.bottom + popoverRect.height - offsetBottom,\n\t\tleft: targetRect.left + targetRect.width - popoverRect.width < 0,\n\t};\n\n\tconst directionRight = collisions.right && !collisions.left;\n\tconst directionLeft = collisions.left && !collisions.right;\n\tconst directionUp = collisions.bottom && !collisions.top;\n\tconst directionDown = collisions.top && !collisions.bottom;\n\n\treturn { directionRight, directionLeft, directionUp, directionDown };\n}\n\n// Heads up, my jQuery past haunts this function. This hook scopes the tab\n// order to the React element tree, instead of the DOM tree. This way, when the\n// user navigates with tab from the targetRef, the tab order moves into the\n// popup, and then out of the popup back to the rest of the document.\n// (We call targetRef, triggerRef inside this function to avoid confusion with\n// event.target)\nfunction useSimulateTabNavigationForReactTree<\n\tT extends HTMLElement,\n\tP extends HTMLElement\n>(triggerRef: React.RefObject<T>, popoverRef: React.RefObject<P>) {\n\tconst ownerDocument = getOwnerDocument(triggerRef.current)!;\n\n\tfunction handleKeyDown(event: KeyboardEvent) {\n\t\tif (\n\t\t\tevent.key === \"Tab\" &&\n\t\t\tpopoverRef.current &&\n\t\t\ttabbable(popoverRef.current).length === 0\n\t\t) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (event.key === \"Tab\" && event.shiftKey) {\n\t\t\tif (shiftTabbedFromElementAfterTrigger(event)) {\n\t\t\t\tfocusLastTabbableInPopover(event);\n\t\t\t} else if (shiftTabbedOutOfPopover(event)) {\n\t\t\t\tfocusTriggerRef(event);\n\t\t\t} else if (shiftTabbedToBrowserChrome(event)) {\n\t\t\t\tdisableTabbablesInPopover();\n\t\t\t}\n\t\t} else if (event.key === \"Tab\") {\n\t\t\tif (tabbedFromTriggerToPopover()) {\n\t\t\t\tfocusFirstPopoverTabbable(event);\n\t\t\t} else if (tabbedOutOfPopover()) {\n\t\t\t\tfocusTabbableAfterTrigger(event);\n\t\t\t} else if (tabbedToBrowserChrome(event)) {\n\t\t\t\tdisableTabbablesInPopover();\n\t\t\t}\n\t\t}\n\t}\n\n\tReact.useEffect(() => {\n\t\townerDocument.addEventListener(\"keydown\", handleKeyDown);\n\t\treturn () => {\n\t\t\townerDocument.removeEventListener(\"keydown\", handleKeyDown);\n\t\t};\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, []);\n\n\tfunction getElementAfterTrigger() {\n\t\tconst elements = tabbable(ownerDocument as any);\n\t\tconst targetIndex =\n\t\t\telements && triggerRef.current\n\t\t\t\t? elements.indexOf(triggerRef.current)\n\t\t\t\t: -1;\n\t\tconst elementAfterTrigger = elements && elements[targetIndex + 1];\n\t\treturn popoverRef.current &&\n\t\t\tpopoverRef.current.contains(elementAfterTrigger || null)\n\t\t\t? false\n\t\t\t: elementAfterTrigger;\n\t}\n\n\tfunction tabbedFromTriggerToPopover() {\n\t\treturn triggerRef.current\n\t\t\t? triggerRef.current === ownerDocument.activeElement\n\t\t\t: false;\n\t}\n\n\tfunction focusFirstPopoverTabbable(event: KeyboardEvent) {\n\t\tconst elements = popoverRef.current && tabbable(popoverRef.current);\n\t\tif (elements && elements[0]) {\n\t\t\tevent.preventDefault();\n\t\t\telements[0].focus();\n\t\t}\n\t}\n\n\tfunction tabbedOutOfPopover() {\n\t\tconst inPopover = popoverRef.current\n\t\t\t? popoverRef.current.contains(ownerDocument.activeElement || null)\n\t\t\t: false;\n\t\tif (inPopover) {\n\t\t\tconst elements = popoverRef.current && tabbable(popoverRef.current);\n\t\t\treturn Boolean(\n\t\t\t\telements &&\n\t\t\t\t\telements[elements.length - 1] === ownerDocument.activeElement\n\t\t\t);\n\t\t}\n\t\treturn false;\n\t}\n\n\tfunction focusTabbableAfterTrigger(event: KeyboardEvent) {\n\t\tconst elementAfterTrigger = getElementAfterTrigger();\n\t\tif (elementAfterTrigger) {\n\t\t\tevent.preventDefault();\n\t\t\telementAfterTrigger.focus();\n\t\t}\n\t}\n\n\tfunction shiftTabbedFromElementAfterTrigger(event: KeyboardEvent) {\n\t\tif (!event.shiftKey) return;\n\t\tconst elementAfterTrigger = getElementAfterTrigger();\n\t\treturn event.target === elementAfterTrigger;\n\t}\n\n\tfunction focusLastTabbableInPopover(event: KeyboardEvent) {\n\t\tconst elements = popoverRef.current && tabbable(popoverRef.current);\n\t\tconst last = elements && elements[elements.length - 1];\n\t\tif (last) {\n\t\t\tevent.preventDefault();\n\t\t\tlast.focus();\n\t\t}\n\t}\n\n\tfunction shiftTabbedOutOfPopover(event: KeyboardEvent) {\n\t\tconst elements = popoverRef.current && tabbable(popoverRef.current);\n\t\tif (elements) {\n\t\t\treturn elements.length === 0 ? false : event.target === elements[0];\n\t\t}\n\t\treturn false;\n\t}\n\n\tfunction focusTriggerRef(event: KeyboardEvent) {\n\t\tevent.preventDefault();\n\t\ttriggerRef.current?.focus();\n\t}\n\n\tfunction tabbedToBrowserChrome(event: KeyboardEvent) {\n\t\tconst elements = popoverRef.current\n\t\t\t? tabbable(ownerDocument as any).filter(\n\t\t\t\t\t(element) => !popoverRef.current!.contains(element)\n\t\t\t  )\n\t\t\t: null;\n\t\treturn elements ? event.target === elements[elements.length - 1] : false;\n\t}\n\n\tfunction shiftTabbedToBrowserChrome(event: KeyboardEvent) {\n\t\t// we're assuming the popover will never contain the first tabbable\n\t\t// element, and it better not, because the trigger needs to be tabbable!\n\t\treturn event.target === tabbable(ownerDocument as any)[0];\n\t}\n\n\tlet restoreTabIndexTuplÃ©s: [HTMLElement | SVGElement, number][] = [];\n\n\tfunction disableTabbablesInPopover() {\n\t\tconst elements = popoverRef.current && tabbable(popoverRef.current);\n\t\tif (elements) {\n\t\t\telements.forEach((element) => {\n\t\t\t\trestoreTabIndexTuplÃ©s.push([element, element.tabIndex]);\n\t\t\t\telement.tabIndex = -1;\n\t\t\t});\n\t\t\townerDocument.addEventListener(\"focusin\", enableTabbablesInPopover);\n\t\t}\n\t}\n\n\tfunction enableTabbablesInPopover() {\n\t\townerDocument.removeEventListener(\"focusin\", enableTabbablesInPopover);\n\t\trestoreTabIndexTuplÃ©s.forEach(([element, tabIndex]) => {\n\t\t\telement.tabIndex = tabIndex;\n\t\t});\n\t}\n}\n\n////////////////////////////////////////////////////////////////////////////////\n// Types\n\ntype Position = (\n\ttargetRect?: PRect | null,\n\tpopoverRect?: PRect | null,\n\t...unstable_observableNodes: PossibleNode[]\n) => React.CSSProperties;\n\ntype PossibleNode = null | undefined | HTMLElement | SVGElement;\n\n////////////////////////////////////////////////////////////////////////////////\n// Exports\n\nexport type { PopoverProps, Position };\nexport {\n\tgetCollisions,\n\tPopover,\n\tpositionDefault,\n\tpositionMatchWidth,\n\tpositionRight,\n};\n"],"mappings":"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","names":[]}